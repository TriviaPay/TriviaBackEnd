    1: """
       requests._internal_utils
       ~~~~~~~~~~~~~~
       
       Provides utility functions that are consumed internally by Requests
       which depend on extremely few external helpers (such as compat)
       """
    1: import re
       
    1: from .compat import builtin_str
       
    1: _VALID_HEADER_NAME_RE_BYTE = re.compile(rb"^[^:\s][^:\r\n]*$")
    1: _VALID_HEADER_NAME_RE_STR = re.compile(r"^[^:\s][^:\r\n]*$")
    1: _VALID_HEADER_VALUE_RE_BYTE = re.compile(rb"^\S[^\r\n]*$|^$")
    1: _VALID_HEADER_VALUE_RE_STR = re.compile(r"^\S[^\r\n]*$|^$")
       
    1: _HEADER_VALIDATORS_STR = (_VALID_HEADER_NAME_RE_STR, _VALID_HEADER_VALUE_RE_STR)
    1: _HEADER_VALIDATORS_BYTE = (_VALID_HEADER_NAME_RE_BYTE, _VALID_HEADER_VALUE_RE_BYTE)
    1: HEADER_VALIDATORS = {
    1:     bytes: _HEADER_VALIDATORS_BYTE,
    1:     str: _HEADER_VALIDATORS_STR,
       }
       
       
    1: def to_native_string(string, encoding="ascii"):
           """Given a string object, regardless of type, returns a representation of
           that string in the native string type, encoding and decoding where
           necessary. This assumes ASCII unless told otherwise.
           """
    7:     if isinstance(string, builtin_str):
    7:         out = string
           else:
>>>>>>         out = string.decode(encoding)
       
    7:     return out
       
       
    1: def unicode_is_ascii(u_string):
           """Determine if unicode string only contains ASCII characters.
       
           :param str u_string: unicode string to check. Must be unicode
               and not Python 2 `str`.
           :rtype: bool
           """
    1:     assert isinstance(u_string, str)
    1:     try:
    1:         u_string.encode("ascii")
    1:         return True
>>>>>>     except UnicodeEncodeError:
>>>>>>         return False
